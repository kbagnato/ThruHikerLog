@let trail = (trail$ | async);
<button type="button" (click)="goHome()">🏠 Home</button>
  
  @if (!trail || trail == null) {
    Loading...
  } @else {
 
  <div class="card form">
    <div class="title">{{ trail.id ? 'editing' : 'creating'}} trail</div>

    <form #newTrailForm="ngForm" name="newTrailForm" (ngSubmit)="onSubmit(newTrailForm)">
      <label>
        trail name
        <div>
          <input type="text" [(ngModel)]="trail.name" name="name" required placeholder="the long trail" />
        </div>
      </label>
      
    <label>
      location
      <div>
        <input type="text" [(ngModel)]="trail.location" name="location" placeholder="vermont" />
      </div>
    </label>
   
    <label>
      length
      <div>
        <input type="number" [(ngModel)]="trail.length" name="length" required placeholder="272" />
      </div>
    </label>
    
    <label>
      length type
      <div>
        <input type="text" [(ngModel)]="trail.lengthType" name="lengthType" placeholder="miles" />
      </div>
    </label>
    
    <div class="flex-wrap">
      <label>
        start date
        <div>
          <input type="datetime-local" [(ngModel)]="trail.startDate" name="startDate" />
        </div>
      </label>
    
      <label>
        end date
        <div>
          <input type="datetime-local" [(ngModel)]="trail.endDate" name="endDate" />
        </div>
      </label>
    </div>
    
    <label>
      gear list
      <div>
        <input type="text" [(ngModel)]="trail.gearListUrl" name="gearListUrl" placeholder="lighterpack.com/r/2lkx1n" />
      </div>
    </label>
    
    <label>
      description
      <div>
        <textarea
          [(ngModel)]="trail.description"
          name="description"
          rows="8"
          placeholder="I'm so excited for this rough and tough trail!"
        ></textarea>
      </div>
    </label>
    
    <div class="flex-wrap">
      <button type="button" (click)="cancel()">❌ Cancel</button>
      <button type="button" (click)="onSubmit(newTrailForm)">{{ trail.id ? '✔️ Update' : '➕ Create' }}</button>
    </div>
  </form>
</div>
}
